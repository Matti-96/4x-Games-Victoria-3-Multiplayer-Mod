##################################################################################

# Base PM's

pm_military_shipbuilding_wooden = {
	texture = "gfx/interface/icons/production_method_icons/military_shipbuilding_wooden.dds"
	
	building_modifiers = {
		workforce_scaled = {
			#input goods
			goods_input_hardwood_add = 20
			goods_input_fabric_add = 20
			goods_input_iron_add = 6
			goods_input_artillery_add = 2
			# output goods
			goods_output_manowars_add = 35
		}
		
		level_scaled = {
			# employment
			building_employment_shopkeepers_add = 500
			building_employment_laborers_add = 3500
			building_employment_machinists_add = 750
			building_employment_engineers_add = 250
		}
	}

	timed_modifiers = {
		modifier_recently_adjusted_primary_PM
	}
}

pm_military_shipbuilding_wooden_2 = {
	texture = "gfx/interface/icons/production_method_icons/military_shipbuilding_wooden_2.dds"
	
	unlocking_technologies = {
		screw_frigate
	}
	
	building_modifiers = {
		workforce_scaled = {
			#input goods
			goods_input_hardwood_add = 30
			goods_input_fabric_add = 10
			goods_input_engines_add = 5
			goods_input_iron_add = 6
			goods_input_artillery_add = 2
			# output goods
			goods_output_manowars_add = 45
		}
		level_scaled = {
			# employment
			building_employment_shopkeepers_add = 500
			building_employment_laborers_add = 3000
			building_employment_machinists_add = 1000
			building_employment_engineers_add = 500
		}
	}

	timed_modifiers = {
		modifier_recently_adjusted_primary_PM
	}
}

pm_military_shipbuilding_steam = {
	texture = "gfx/interface/icons/production_method_icons/military_shipbuilding_steam.dds"
	
	unlocking_technologies = {
		ironclad_tech
	}
	
	building_modifiers = {
		workforce_scaled = {
			#input goods
			goods_input_steel_add = 32 # 40
			goods_input_artillery_add = 5
			goods_input_coal_add = 20
			goods_input_engines_add = 6
			goods_input_automobiles_add = 2
			# output goods
			goods_output_ironclads_add = 55
		}
		level_scaled = {
			# employment
			building_employment_shopkeepers_add = 500
			building_employment_laborers_add = 2500
			building_employment_machinists_add = 1000
			building_employment_engineers_add = 1000
		}
	}

	timed_modifiers = {
		modifier_recently_adjusted_primary_PM
	}
}

pm_military_shipbuilding_steam_2 = {
	texture = "gfx/interface/icons/production_method_icons/military_shipbuilding_steam_2.dds"
	
	unlocking_technologies = {
		arc_welding
	}
	
	building_modifiers = {
		workforce_scaled = {
			#input
			goods_input_steel_add = 32 # 40
			goods_input_artillery_add = 5
			goods_input_electricity_add = 30
			goods_input_engines_add = 12
			goods_input_automobiles_add = 4
			# output goods
			goods_output_ironclads_add = 70
		}
		level_scaled = {
			# employment
			building_employment_shopkeepers_add = 500
			building_employment_laborers_add = 2000
			building_employment_machinists_add = 1500
			building_employment_engineers_add = 1000
		}
	}

	timed_modifiers = {
		modifier_recently_adjusted_primary_PM
	}
	
	required_input_goods = electricity
}

# Shift-work PM's
pm_mil_shipyards_double_shifts_wooden = {
	texture = "gfx/interface/icons/production_method_icons/shift_2.dds"
	# Vanilla
	replacement_if_valid = pm_mil_shipyards_double_shifts
	
	is_hidden_when_unavailable = yes
	
	unlocking_technologies = {
		shift_work
	}
	unlocking_production_methods = {
		# Vanilla
		pm_military_shipbuilding_wooden_2			 # Initialises at wooden_2
		pm_military_shipbuilding_steam
	}
	
	building_modifiers = {
		workforce_scaled = {
			#input goods
			goods_input_hardwood_add = 27
			goods_input_fabric_add = 8
			goods_input_engines_add = 4
			goods_input_iron_add = 6
			goods_input_artillery_add = 2
			# output goods
			goods_output_manowars_add = 42
		}
		level_scaled = {
			# employment
			building_employment_shopkeepers_add = 200
			building_employment_laborers_add = 3000
			building_employment_machinists_add = 1000
			building_employment_engineers_add = 200
		}
	}
	
	state_modifiers = {
		unscaled = {
			building_military_shipyards_throughput_add = 0.1
		}
		level_scaled = {
			building_military_shipyards_throughput_add = 0.02
		}
	}

	timed_modifiers = {
		modifier_recently_adjusted_secondary_PM
	}
}

pm_mil_shipyards_double_shifts = {
	texture = "gfx/interface/icons/production_method_icons/shift_2.dds"
	replacement_if_valid = pm_mil_shipyards_double_shifts_arc_weld
	is_hidden_when_unavailable = yes

	unlocking_technologies = {
		shift_work
	}
	unlocking_production_methods = {
		pm_military_shipbuilding_steam
		pm_military_shipbuilding_steam_2
	}
	
	building_modifiers = {
		workforce_scaled = {
			#input goods
			goods_input_steel_add = 28 # 36
			goods_input_artillery_add = 5
			goods_input_coal_add = 18
			goods_input_engines_add = 5
			goods_input_automobiles_add = 2
			# output goods
			goods_output_ironclads_add = 52
		}
		level_scaled = {
			# employment
			building_employment_shopkeepers_add = 200
			building_employment_laborers_add = 2500
			building_employment_machinists_add = 1000
			building_employment_engineers_add = 600
		}
	}
	
	state_modifiers = {
		unscaled = {
			building_military_shipyards_throughput_add = 0.1
		}
		level_scaled = {
			building_military_shipyards_throughput_add = 0.02
		}
	}

	timed_modifiers = {
		modifier_recently_adjusted_secondary_PM
	}
}

pm_mil_shipyards_double_shifts_arc_weld = {
	texture = "gfx/interface/icons/production_method_icons/shift_2.dds"
	is_hidden_when_unavailable = yes
	
	unlocking_technologies = {
		shift_work
	}

	unlocking_production_methods = {
		pm_military_shipbuilding_steam_2
	}
	
	building_modifiers = {
		workforce_scaled = {
			#input
			goods_input_steel_add = 28 # 36
			goods_input_artillery_add = 5
			goods_input_electricity_add = 28
			goods_input_engines_add = 10
			goods_input_automobiles_add = 3
			# output goods
			goods_output_ironclads_add = 66
		}
		level_scaled = {
			# employment
			building_employment_shopkeepers_add = 200
			building_employment_laborers_add = 2000
			building_employment_machinists_add = 1500
			building_employment_engineers_add = 600
		}
	}
	
	state_modifiers = {
		unscaled = {
			building_military_shipyards_throughput_add = 0.1
		}
		level_scaled = {
			building_military_shipyards_throughput_add = 0.02
		}
	}

	timed_modifiers = {
		modifier_recently_adjusted_secondary_PM
	}
	
	required_input_goods = electricity
}

pm_mil_shipyards_triple_shifts_wooden = { # wooden_2
	texture = "gfx/interface/icons/production_method_icons/shift_3.dds"
	# Vanilla
	replacement_if_valid = pm_mil_shipyards_triple_shifts
	
	is_hidden_when_unavailable = yes
	
	unlocking_technologies = {
		conveyors
	}

	unlocking_production_methods = {
		# Vanilla
		pm_military_shipbuilding_wooden_2
		pm_military_shipbuilding_steam
	}
	
	building_modifiers = {
		workforce_scaled = {
			#input goods
			goods_input_hardwood_add = 50
			goods_input_fabric_add = 14
			goods_input_engines_add = 6
			goods_input_iron_add = 10
			goods_input_artillery_add = 4
			goods_input_electricity_add = 2	# Gotta run the lights overnight
			# output goods
			goods_output_manowars_add = 80
		}
		level_scaled = {
			# employment
			building_employment_shopkeepers_add = 300
			building_employment_laborers_add = 6000
			building_employment_machinists_add = 2000
			building_employment_engineers_add = 300
		}
	}
	
	state_modifiers = {
		unscaled = {
			building_military_shipyards_throughput_add = 0.2
		}
		level_scaled = {
			building_military_shipyards_throughput_add = 0.04
		}
	}

	timed_modifiers = {
		modifier_recently_adjusted_secondary_PM
	}
	
	required_input_goods = electricity
}

pm_mil_shipyards_triple_shifts = {
	texture = "gfx/interface/icons/production_method_icons/shift_3.dds"
	replacement_if_valid = pm_mil_shipyards_triple_shifts_arc_weld
	is_hidden_when_unavailable = yes
	
	unlocking_technologies = {
		conveyors
	}
	
	unlocking_production_methods = {
		pm_military_shipbuilding_steam
		pm_military_shipbuilding_steam_2
	}
	
	building_modifiers = {
		workforce_scaled = {
			#input goods
			goods_input_steel_add = 52 # 68
			goods_input_artillery_add = 10
			goods_input_coal_add = 34
			goods_input_engines_add = 9
			goods_input_automobiles_add = 2
			goods_input_electricity_add = 4	# Gotta run the lights overnight
			# output goods
			goods_output_ironclads_add = 101
		}
		level_scaled = {
			# employment
			building_employment_shopkeepers_add = 300
			building_employment_laborers_add = 5000
			building_employment_machinists_add = 2000
			building_employment_engineers_add = 800
		}
	}
	
	state_modifiers = {
		unscaled = {
			building_military_shipyards_throughput_add = 0.2
		}
		level_scaled = {
			building_military_shipyards_throughput_add = 0.04
		}
	}

	timed_modifiers = {
		modifier_recently_adjusted_secondary_PM
	}
	
	required_input_goods = electricity
}

pm_mil_shipyards_triple_shifts_arc_weld = {
	texture = "gfx/interface/icons/production_method_icons/shift_3.dds"
	is_hidden_when_unavailable = yes
	
	unlocking_technologies = {
		conveyors
	}

	unlocking_production_methods = {
		pm_military_shipbuilding_steam_2
	}
	
	building_modifiers = {
		workforce_scaled = {
			#input
			goods_input_steel_add = 52 # 68
			goods_input_artillery_add = 10
			goods_input_electricity_add = 56
			goods_input_engines_add = 18
			goods_input_automobiles_add = 5
			# output goods
			goods_output_ironclads_add = 128
		}
		level_scaled = {
			# employment
			building_employment_shopkeepers_add = 300
			building_employment_laborers_add = 4000
			building_employment_machinists_add = 3000
			building_employment_engineers_add = 800
		}
	}
	
	state_modifiers = {
		unscaled = {
			building_military_shipyards_throughput_add = 0.2
		}
		level_scaled = {
			building_military_shipyards_throughput_add = 0.04
		}
	}

	timed_modifiers = {
		modifier_recently_adjusted_secondary_PM
	}
	
	required_input_goods = electricity
}

########################################################

# Munition Plants PM's #

## Percussion Caps (Le Blanc & Ammonium Soda)
pm_percussion_caps = {
	texture = "gfx/interface/icons/production_method_icons/percussion_caps.dds"
	
	state_modifiers = {
		workforce_scaled = {
			state_pollution_generation_add = 10
		}
	}
	
	building_modifiers = {
		workforce_scaled = {
			# input goods
			goods_input_explosives_add = 38 # 20
			goods_input_lead_add = 20 # 20
			
			# output goods
			goods_output_ammunition_add = 80 # 50
		}

		level_scaled = {
			building_employment_shopkeepers_add = 500
			building_employment_laborers_add = 3000
			building_employment_machinists_add = 1000
			building_employment_engineers_add = 500
		}
	}

	timed_modifiers = {
		modifier_recently_adjusted_primary_PM
	}
}

pm_extensive_ammo_le = {
	texture = "gfx/interface/icons/production_method_icons/leblanc_process.dds"
	is_hidden_when_unavailable = yes
	
	unlocking_production_methods = {
		pm_percussion_caps
	}
	
	building_modifiers = {
		workforce_scaled = {
			# input goods
			goods_input_lead_add = -10
			goods_input_sulfur_add = 10
			goods_input_fertilizer_add = 10
			goods_input_explosives_add = -38 # -20
			
			# output goods
			goods_output_ammunition_add = -40 # -25
			goods_output_explosives_add = 6 # 5
		}
	}

	timed_modifiers = {
		modifier_recently_adjusted_primary_PM
	}
}

pm_moderate_ammo_le = {
	texture = "gfx/interface/icons/production_method_icons/leblanc_process.dds"
	is_hidden_when_unavailable = yes
	
	unlocking_production_methods = {
		pm_percussion_caps
	}
	
	building_modifiers = {
		workforce_scaled = {
			# input goods
			goods_input_lead_add = -6
			goods_input_sulfur_add = 6
			goods_input_fertilizer_add = 6
			goods_input_explosives_add = -27 # -15
			
			# output goods
			goods_output_ammunition_add = -24 # -15
		}
	}

	timed_modifiers = {
		modifier_recently_adjusted_primary_PM
	}
}

pm_limited_ammo_le = {
	texture = "gfx/interface/icons/production_method_icons/leblanc_process.dds"
	is_hidden_when_unavailable = yes
	
	unlocking_production_methods = {
		pm_percussion_caps
	}
	
	building_modifiers = {
		workforce_scaled = {
			# input goods
			goods_input_lead_add = -2
			goods_input_sulfur_add = 2
			goods_input_fertilizer_add = 2
			goods_input_explosives_add = -9 # -5
			
			# output goods
			goods_output_ammunition_add = -8 # -5
		}
	}

	timed_modifiers = {
		modifier_recently_adjusted_primary_PM
	}
}

pm_extensive_ammo_ni = {
	texture = "gfx/interface/icons/production_method_icons/ammonia_soda_process.dds"
	is_hidden_when_unavailable = yes
	
	unlocking_technologies = {
		nitroglycerin
	}
	
	unlocking_production_methods = {
		pm_percussion_caps
	}
	
	building_modifiers = {
		workforce_scaled = {
			# input goods
			goods_input_lead_add = -10
			goods_input_sulfur_add = 15
			goods_input_fertilizer_add = 15
			goods_input_paper_add = 5 # 0
			goods_input_explosives_add = -38 # -20
			
			# output goods
			goods_output_ammunition_add = -40 # -25
			goods_output_explosives_add = 21 # 20
		}
	}

	timed_modifiers = {
		modifier_recently_adjusted_primary_PM
	}
}

pm_moderate_ammo_ni = {
	texture = "gfx/interface/icons/production_method_icons/ammonia_soda_process.dds"
	is_hidden_when_unavailable = yes
	
	unlocking_technologies = {
		nitroglycerin
	}
	
	unlocking_production_methods = {
		pm_percussion_caps
	}
	
	building_modifiers = {
		workforce_scaled = {
			# input goods
			goods_input_lead_add = -6
			goods_input_sulfur_add = 9
			goods_input_fertilizer_add = 9
			goods_input_paper_add = 3 # 0
			goods_input_explosives_add = -36 # -20
			
			# output goods
			goods_output_ammunition_add = -24 # -15
			# goods_output_explosives_add = 0 # 4
		}
	}

	timed_modifiers = {
		modifier_recently_adjusted_primary_PM
	}
}

pm_limited_ammo_ni = {
	texture = "gfx/interface/icons/production_method_icons/ammonia_soda_process.dds"
	is_hidden_when_unavailable = yes
	
	unlocking_technologies = {
		nitroglycerin
	}
	
	unlocking_production_methods = {
		pm_percussion_caps
	}
	
	building_modifiers = {
		workforce_scaled = {
			# input goods
			goods_input_lead_add = -2
			goods_input_sulfur_add = 3
			goods_input_fertilizer_add = 3
			goods_input_paper_add = 1 # 0
			goods_input_explosives_add = -12 # -8
			
			# output goods
			goods_output_ammunition_add = -8 # -5
		}
	}

	timed_modifiers = {
		modifier_recently_adjusted_primary_PM
	}
}

## Explosive Shells (Vacuum Evaporation & Brine Electrolysis)
pm_explosive_shells = {
	texture = "gfx/interface/icons/production_method_icons/explosive_shells.dds"
	
	unlocking_technologies = {
		dynamite
	}
	
	state_modifiers = {
		workforce_scaled = {
			state_pollution_generation_add = 15
		}
	}
	
	building_modifiers = {
		workforce_scaled = {
			# input goods
			goods_input_explosives_add = 68 # 40
			goods_input_lead_add = 40 # 30
			
			# output goods
			goods_output_ammunition_add = 150 # 90
		}

		level_scaled = {
			building_employment_shopkeepers_add = 500
			building_employment_laborers_add = 2500
			building_employment_machinists_add = 1250
			building_employment_engineers_add = 750
		}
	}

	timed_modifiers = {
		modifier_recently_adjusted_primary_PM
	}
}

pm_extensive_ammo_dy = {
	texture = "gfx/interface/icons/production_method_icons/vaccum_evaporation.dds"
	is_hidden_when_unavailable = yes
	
	unlocking_production_methods = {
		pm_explosive_shells
	}
	
	building_modifiers = {
		workforce_scaled = {
			# input goods
			goods_input_lead_add = -20 # -15
			goods_input_sulfur_add = 20
			goods_input_fertilizer_add = 20
			goods_input_paper_add = 10 # 15
			goods_input_explosives_add = -68 # -40
			
			# output goods
			goods_output_ammunition_add = -75 # -45
			goods_output_explosives_add = 21 # 15
		}
	}

	timed_modifiers = {
		modifier_recently_adjusted_primary_PM
	}
}

pm_moderate_ammo_dy = {
	texture = "gfx/interface/icons/production_method_icons/vaccum_evaporation.dds"
	is_hidden_when_unavailable = yes
	
	unlocking_production_methods = {
		pm_explosive_shells
	}
	
	building_modifiers = {
		workforce_scaled = {
			# input goods
			goods_input_lead_add = -12 # -9
			goods_input_sulfur_add = 12
			goods_input_fertilizer_add = 12
			goods_input_paper_add = 6 # 9
			goods_input_explosives_add = -54 # -33
			
			# output goods
			goods_output_ammunition_add = -45 # -27
		}
	}

	timed_modifiers = {
		modifier_recently_adjusted_primary_PM
	}
}

pm_limited_ammo_dy = {
	texture = "gfx/interface/icons/production_method_icons/vaccum_evaporation.dds"
	is_hidden_when_unavailable = yes
	
	unlocking_production_methods = {
		pm_explosive_shells
	}
	
	building_modifiers = {
		workforce_scaled = {
			# input goods
			goods_input_lead_add = -4 # -3
			goods_input_sulfur_add = 4
			goods_input_fertilizer_add = 4
			goods_input_paper_add = 2 # 3
			goods_input_explosives_add = -18 # -11
			
			# output goods
			goods_output_ammunition_add = -15 # -9
		}
	}

	timed_modifiers = {
		modifier_recently_adjusted_primary_PM
	}
}

pm_extensive_ammo_br = {
	texture = "gfx/interface/icons/production_method_icons/vaccum_brine_electrolysis.dds"
	is_hidden_when_unavailable = yes
	
	unlocking_technologies = {
		electrical_capacitors
	}
	unlocking_production_methods = {
		pm_explosive_shells
	}
	
	required_input_goods = electricity
	
	building_modifiers = {
		workforce_scaled = {
			# input goods
			goods_input_lead_add = -20 # -15
			goods_input_sulfur_add = 20
			goods_input_fertilizer_add = 25
			goods_input_paper_add = 15
			goods_input_electricity_add = 10
			goods_input_explosives_add = -68 # -40
			
			# output goods
			goods_output_ammunition_add = -75 # -45
			goods_output_explosives_add = 41 # 35
		}
	}

	timed_modifiers = {
		modifier_recently_adjusted_primary_PM
	}
}

pm_moderate_ammo_br = {
	texture = "gfx/interface/icons/production_method_icons/vaccum_brine_electrolysis.dds"
	is_hidden_when_unavailable = yes
	
	unlocking_technologies = {
		electrical_capacitors
	}
	unlocking_production_methods = {
		pm_explosive_shells
	}
	
	required_input_goods = electricity
	
	building_modifiers = {
		workforce_scaled = {
			# input goods
			goods_input_lead_add = -12 # -9
			goods_input_sulfur_add = 12
			goods_input_fertilizer_add = 15
			goods_input_paper_add = 9
			goods_input_electricity_add = 6
			goods_input_explosives_add = -66 # -40
			
			# output goods
			goods_output_ammunition_add = -45 # -27
			# goods_output_explosives_add = 0 # 5
		}
	}

	timed_modifiers = {
		modifier_recently_adjusted_primary_PM
	}
}

pm_limited_ammo_br = {
	texture = "gfx/interface/icons/production_method_icons/vaccum_brine_electrolysis.dds"
	is_hidden_when_unavailable = yes
	
	unlocking_technologies = {
		electrical_capacitors
	}
	unlocking_production_methods = {
		pm_explosive_shells
	}
	
	required_input_goods = electricity
	
	building_modifiers = {
		workforce_scaled = {
			# input goods
			goods_input_lead_add = -4 # -3
			goods_input_sulfur_add = 4
			goods_input_fertilizer_add = 5
			goods_input_paper_add = 3
			goods_input_electricity_add = 2
			goods_input_explosives_add = -22 # -15
			
			# output goods
			goods_output_ammunition_add = -15 # -9
		}
	}

	timed_modifiers = {
		modifier_recently_adjusted_primary_PM
	}
}

pm_no_self_explosives = {
	texture = "gfx/interface/icons/production_method_icons/no_demobilisation.dds"
}

### Automation Replacements ###
pm_rotary_valve_engine_building_munition_plants = {
	texture = "gfx/interface/icons/production_method_icons/rotary_valve_engine.dds"
	
	state_modifiers = {
		workforce_scaled = {
			state_pollution_generation_add = 10
		}
	}
	
	unlocking_technologies = {
		rotary_valve_engine
	}
	
	building_modifiers = {
		workforce_scaled = {
			goods_input_coal_add = 15
		}
		
		level_scaled = {
			building_employment_laborers_add = -2000
		}
	}

	timed_modifiers = {
		modifier_recently_adjusted_secondary_PM
	}
}

pm_assembly_lines_building_munition_plants = {
	texture = "gfx/interface/icons/production_method_icons/assembly_lines.dds"
	
	state_modifiers = {
		workforce_scaled = {
			state_pollution_generation_add = 10
		}
	}
	
	unlocking_technologies = {
		conveyors
	}
	
	building_modifiers = {
		workforce_scaled = {
			goods_input_oil_add = 10
			goods_input_electricity_add = 5
		}
		
		level_scaled = {
			building_employment_laborers_add = -2500
			building_employment_machinists_add = -500
		}
	}

	timed_modifiers = {
		modifier_recently_adjusted_secondary_PM
	}
	
	required_input_goods = electricity
}

######################################################################

# Small Arms Factory PMs #

## For long-term balancing against Tooling factories it is necessary to ensure the base PM's are very similar profitability.
## And importantly - that Mod & Ext tooling result in a *lower* overall profitability than tooling factories at the corresponding production method.

## Muskets (Iron)
pm_muskets = {
	texture = "gfx/interface/icons/production_method_icons/muskets.dds"
	
	building_modifiers = {
		workforce_scaled = {
			# input goods
			goods_input_iron_add = 10
			goods_input_hardwood_add = 10
			
			# output goods
			goods_output_small_arms_add = 30				# No changes needed, this one is perfect.
		}
		
		level_scaled = {
			# employment
			building_employment_shopkeepers_add = 500
			building_employment_laborers_add = 4000
			building_employment_machinists_add = 500
		}
	}

	timed_modifiers = {
		modifier_recently_adjusted_primary_PM
	}
}

pm_extensive_tools_a_i = {
	texture = "gfx/interface/icons/production_method_icons/pig_iron_tools_plus.dds"
	is_hidden_when_unavailable = yes
	
	unlocking_technologies = {
		steelworking
	}
	
	unlocking_production_methods = {
		pm_muskets
	}
	
	building_modifiers = {
		workforce_scaled = {
			# input goods
			goods_input_iron_add = 5
			goods_input_hardwood_add = -5
			goods_input_wood_add = 15
			
			# output goods
			goods_output_small_arms_add = -15
			goods_output_tools_add = 30
		}
	}

	timed_modifiers = {
		modifier_recently_adjusted_primary_PM
	}
}

pm_moderate_tools_a_i = {
	texture = "gfx/interface/icons/production_method_icons/pig_iron_tools.dds"
	is_hidden_when_unavailable = yes
	
	unlocking_technologies = {
		steelworking
	}
	
	unlocking_production_methods = {
		pm_muskets
	}
	
	building_modifiers = {
		workforce_scaled = {
			# input goods
			goods_input_iron_add = 3
			goods_input_hardwood_add = -3
			goods_input_wood_add = 9
			
			# output goods
			goods_output_small_arms_add = -9
			goods_output_tools_add = 18
		}
	}

	timed_modifiers = {
		modifier_recently_adjusted_primary_PM
	}
}

pm_limited_tools_a_i = {
	texture = "gfx/interface/icons/production_method_icons/military_priority.dds"
	is_hidden_when_unavailable = yes
	
	unlocking_technologies = {
		steelworking
	}
	
	unlocking_production_methods = {
		pm_muskets
	}
	
	building_modifiers = {
		workforce_scaled = {
			# input goods
			goods_input_iron_add = 1
			goods_input_hardwood_add = -1
			goods_input_wood_add = 3
			
			# output goods
			goods_output_small_arms_add = -3
			goods_output_tools_add = 6
		}
	}

	timed_modifiers = {
		modifier_recently_adjusted_primary_PM
	}
}

## Rifles & Repeaters (Steel)
pm_rifles = {
	texture = "gfx/interface/icons/production_method_icons/rifles.dds"
	
	unlocking_technologies = {
		rifling
	}
	
	building_modifiers = {
		workforce_scaled = {
			# input goods
			goods_input_steel_add = 8 # 10
			goods_input_hardwood_add = 5 # 10
			goods_input_tools_add = 5
			
			# output goods
			goods_output_small_arms_add = 40 # 50	Profitability = 1600
		}
		
		level_scaled = {
			# employment
			building_employment_shopkeepers_add = 500
			building_employment_laborers_add = 3250
			building_employment_machinists_add = 1000
			building_employment_engineers_add = 250
		}
	}

	timed_modifiers = {
		modifier_recently_adjusted_primary_PM
	}
}

pm_repeaters = {
	texture = "gfx/interface/icons/production_method_icons/repeaters.dds"
	
	unlocking_technologies = {
		repeaters
	}
	
	building_modifiers = {
		workforce_scaled = {
			# input goods
			goods_input_steel_add = 18 # 20
			goods_input_hardwood_add = 8 # 10
			goods_input_tools_add = 8 # 10
			
			# output goods
			goods_output_small_arms_add = 54 # 70	Profitability = 1700 (all demob PM's match 1600 or below)
		}
		
		level_scaled = {
			# employment
			building_employment_shopkeepers_add = 500
			building_employment_laborers_add = 3000
			building_employment_machinists_add = 1000
			building_employment_engineers_add = 500
		}
	}

	timed_modifiers = {
		modifier_recently_adjusted_primary_PM
	}
}

pm_extensive_tools_a_s = {
	texture = "gfx/interface/icons/production_method_icons/steel_tools_plus.dds"
	is_hidden_when_unavailable = yes
	
	unlocking_production_methods = {
		pm_rifles
		pm_repeaters
		pm_bolt_action_rifles
	}
	
	building_modifiers = {
		workforce_scaled = {
			# input goods
			goods_input_wood_add = 15
			goods_input_hardwood_add = -4 # -5
			goods_input_tools_add = -5
			
			# output goods
			goods_output_small_arms_add = -27 # -35
			goods_output_tools_add = 35
		}
	}

	timed_modifiers = {
		modifier_recently_adjusted_primary_PM
	}
}

pm_moderate_tools_a_s = {
	texture = "gfx/interface/icons/production_method_icons/steel_tools.dds"
	is_hidden_when_unavailable = yes
	
	unlocking_production_methods = {
		pm_rifles
		pm_repeaters
		pm_bolt_action_rifles
	}
	
	building_modifiers = {
		workforce_scaled = {
			# input goods
			goods_input_wood_add = 10
			goods_input_hardwood_add = -2.5
			goods_input_tools_add = -5
			
			# output goods
			goods_output_small_arms_add = -16 # -21
			goods_output_tools_add = 19
		}
	}

	timed_modifiers = {
		modifier_recently_adjusted_primary_PM
	}
}

pm_limited_tools_a_s = {
	texture = "gfx/interface/icons/production_method_icons/military_priority.dds"
	is_hidden_when_unavailable = yes
	
	unlocking_production_methods = {
		pm_rifles
		pm_repeaters
		pm_bolt_action_rifles
	}
	
	building_modifiers = {
		workforce_scaled = {
			# input goods
			goods_input_wood_add = 5
			goods_input_hardwood_add = -1
			goods_input_tools_add = -5
			
			# output goods
			goods_output_small_arms_add = -6 # -7
			goods_output_tools_add = 3
		}
	}

	timed_modifiers = {
		modifier_recently_adjusted_primary_PM
	}
}

## Bolt Actions (Rubber)
pm_bolt_action_rifles = {
	texture = "gfx/interface/icons/production_method_icons/bolt_action_rifles.dds"
	
	unlocking_technologies = {
		bolt_action_rifles
	}
	
	building_modifiers = {
		workforce_scaled = {
			# input goods
			goods_input_steel_add = 20
			goods_input_hardwood_add = 10
			goods_input_tools_add = 12
			goods_input_oil_add = 10
			
			# output goods
			goods_output_small_arms_add = 80 # 100	Profitability = 2520 (all demob PM's match 2500 or below)
		}

		level_scaled = {
			# employment
			building_employment_shopkeepers_add = 500
			building_employment_laborers_add = 2500
			building_employment_machinists_add = 1250
			building_employment_engineers_add = 750
		}
	}

	timed_modifiers = {
		modifier_recently_adjusted_primary_PM
	}
}

pm_extensive_tools_a_r = {
	texture = "gfx/interface/icons/production_method_icons/steel_tools_plus.dds"
	is_hidden_when_unavailable = yes
	
	unlocking_technologies = {
		vulcanization
	}

	unlocking_production_methods = {
		pm_bolt_action_rifles
	}
	
	building_modifiers = {
		workforce_scaled = {
			# input goods
			goods_input_steel_add = 5
			goods_input_rubber_add = 5
			goods_input_hardwood_add = -5
			goods_input_tools_add = -12 # -20
			goods_input_oil_add = -5
			
			# output goods
			goods_output_small_arms_add = -40 # -50
			goods_output_tools_add = 47 # 35
		}
	}

	timed_modifiers = {
		modifier_recently_adjusted_primary_PM
	}
}

pm_moderate_tools_a_r = {
	texture = "gfx/interface/icons/production_method_icons/steel_tools.dds"
	is_hidden_when_unavailable = yes
	
	unlocking_technologies = {
		vulcanization
	}

	unlocking_production_methods = {
		pm_bolt_action_rifles
	}
	
	building_modifiers = {
		workforce_scaled = {
			# input goods
			goods_input_steel_add = 4
			goods_input_rubber_add = 3
			goods_input_hardwood_add = -3
			goods_input_tools_add = -12 # -20
			goods_input_oil_add = -3
			
			# output goods
			goods_output_small_arms_add = -24 # -30
			goods_output_tools_add = 25 # 13
		}
	}

	timed_modifiers = {
		modifier_recently_adjusted_primary_PM
	}
}

pm_limited_tools_a_r = {
	texture = "gfx/interface/icons/production_method_icons/military_priority.dds"
	is_hidden_when_unavailable = yes
	
	unlocking_technologies = {
		vulcanization
	}

	unlocking_production_methods = {
		pm_bolt_action_rifles
	}
	
	building_modifiers = {
		workforce_scaled = {
			# input goods
			goods_input_steel_add = 1
			goods_input_rubber_add = 1
			goods_input_hardwood_add = -1
			goods_input_tools_add = -11
			goods_input_oil_add = -1
			
			# output goods
			goods_output_small_arms_add = -8 # -10
		}
	}

	timed_modifiers = {
		modifier_recently_adjusted_primary_PM
	}
}

pm_no_tools_a = {
	texture = "gfx/interface/icons/production_method_icons/no_demobilisation.dds"
}

pm_ui_safety_a = {
	texture = "gfx/interface/icons/production_method_icons/no_arms_manufacturing.dds"

	unlocking_laws = {
		law_chiefdom
	}
}

### Automation Replacements ###
pm_rotary_valve_engine_building_arms_industry = {
	texture = "gfx/interface/icons/production_method_icons/rotary_valve_engine.dds"
	replacement_if_valid = pm_rotary_valve_engine_building_arti_foundry
	
	state_modifiers = {
		workforce_scaled = {
			state_pollution_generation_add = 10
		}
	}
	
	unlocking_technologies = {
		rotary_valve_engine
	}
	
	building_modifiers = {
		workforce_scaled = {
			goods_input_coal_add = 15
		}

		level_scaled = {
			building_employment_laborers_add = -2000
		}
	}

	timed_modifiers = {
		modifier_recently_adjusted_secondary_PM
	}
}

pm_assembly_lines_building_arms_industry = {
	texture = "gfx/interface/icons/production_method_icons/assembly_lines.dds"
	replacement_if_valid = pm_assembly_lines_building_arti_foundry
	
	state_modifiers = {
		workforce_scaled = {
			state_pollution_generation_add = 10
		}
	}

	unlocking_technologies = {
		conveyors
	}
	
	building_modifiers = {
		workforce_scaled = {
			goods_input_oil_add = 10
			goods_input_electricity_add = 5
		}

		level_scaled = {
			building_employment_laborers_add = -2500
			building_employment_machinists_add = -500
		}
	}

	timed_modifiers = {
		modifier_recently_adjusted_secondary_PM
	}

	required_input_goods = electricity
}

#######################################################################

# Artillary Foundries PMs #

## For long-term balancing against Tooling factories it is necessary to ensure the base PM's are very similar profitability.
## And importantly - that Mod & Ext tooling result in a *lower* overall profitability than tooling factories at the corresponding production method.

## Cannons & Smoothbores (Iron)
pm_cannons = {
	texture = "gfx/interface/icons/production_method_icons/artillery_production.dds"
	
	unlocking_technologies = {
		artillery
	}
	
	building_modifiers = {
		workforce_scaled = {
			# input goods
			goods_input_iron_add = 15
			goods_input_hardwood_add = 10
			
			# output goods
			goods_output_artillery_add = 26 # 25
		}
		
		level_scaled = {
			building_employment_shopkeepers_add = 500
			building_employment_laborers_add = 3500
			building_employment_machinists_add = 1000
		}
	}

	timed_modifiers = {
		modifier_recently_adjusted_primary_PM
	}
}

pm_smoothbores = {
	texture = "gfx/interface/icons/production_method_icons/smoothbores.dds"
	
	unlocking_technologies = {
		shell_gun
	}
	
	building_modifiers = {
		workforce_scaled = {
			# input goods
			goods_input_iron_add = 25
			goods_input_hardwood_add = 10 # 15
			
			# output goods
			goods_output_artillery_add = 36 # 45
		}
		
		level_scaled = {
			building_employment_shopkeepers_add = 500
			building_employment_laborers_add = 3375
			building_employment_machinists_add = 1000
			building_employment_engineers_add = 125
		}
	}

	timed_modifiers = {
		modifier_recently_adjusted_primary_PM
	}
}

pm_extensive_tools_t_i = {
	texture = "gfx/interface/icons/production_method_icons/pig_iron_tools_plus.dds"
	is_hidden_when_unavailable = yes
	
	unlocking_technologies = {
		steelworking
	}
	
	unlocking_production_methods = {
		pm_smoothbores
	}
	
	building_modifiers = {
		workforce_scaled = {
			# input goods
			goods_input_iron_add = 3
			goods_input_wood_add = 15
			goods_input_hardwood_add = -5 # -8
			
			# output goods
			goods_output_artillery_add = -18 # -23
			goods_output_tools_add = 30
		}
	}

	timed_modifiers = {
		modifier_recently_adjusted_primary_PM
	}
}

pm_moderate_tools_t_i = {
	texture = "gfx/interface/icons/production_method_icons/pig_iron_tools.dds"
	is_hidden_when_unavailable = yes
	
	unlocking_technologies = {
		steelworking
	}
	
	unlocking_production_methods = {
		pm_cannons
		pm_smoothbores
	}
	
	building_modifiers = {
		workforce_scaled = {
			# input goods
			goods_input_iron_add = 2
			goods_input_wood_add = 10
			goods_input_hardwood_add = -3 # -5
			
			# output goods
			goods_output_artillery_add = -11 # -15
			goods_output_tools_add = 20
		}
	}

	timed_modifiers = {
		modifier_recently_adjusted_primary_PM
	}
}

pm_limited_tools_t_i = {
	texture = "gfx/interface/icons/production_method_icons/military_priority.dds"
	is_hidden_when_unavailable = yes
	
	unlocking_technologies = {
		steelworking
	}
	
	unlocking_production_methods = {
		pm_cannons
		pm_smoothbores
	}
	
	building_modifiers = {
		workforce_scaled = {
			# input goods
			goods_input_iron_add = 1
			goods_input_wood_add = 5
			goods_input_hardwood_add = -1 # -2
			
			# output goods
			goods_output_artillery_add = -3.5 # -5
			goods_output_tools_add = 10
		}
	}

	timed_modifiers = {
		modifier_recently_adjusted_primary_PM
	}
}

## Breech Loaders (steel)
pm_breech_loaders = {
	texture = "gfx/interface/icons/production_method_icons/breech_loading_artillery_production.dds"
	
	unlocking_technologies = {
		breech_loading_artillery
	}
	
	building_modifiers = {
		workforce_scaled = {
			# input goods
			goods_input_steel_add = 20 # 25
			goods_input_hardwood_add = 10
			goods_input_tools_add = 6 # 10

			# output goods
			goods_output_artillery_add = 48 # 65
		}

		level_scaled = {
			building_employment_shopkeepers_add = 500
			building_employment_laborers_add = 2750
			building_employment_machinists_add = 1500
			building_employment_engineers_add = 250
		}
	}

	timed_modifiers = {
		modifier_recently_adjusted_primary_PM
	}
}

pm_extensive_tools_t_s = {
	texture = "gfx/interface/icons/production_method_icons/steel_tools_plus.dds"
	is_hidden_when_unavailable = yes
	
	unlocking_production_methods = {
		pm_breech_loaders
		pm_recoiled_barrels
	}
	
	building_modifiers = {
		workforce_scaled = {
			# input goods
			goods_input_wood_add = 15
			goods_input_hardwood_add = -8
			goods_input_tools_add = -6 # -10
			
			# output goods
			goods_output_artillery_add = -24 # -32
			goods_output_tools_add = 34 # 30
		}
	}

	timed_modifiers = {
		modifier_recently_adjusted_primary_PM
	}
}

pm_moderate_tools_t_s = {
	texture = "gfx/interface/icons/production_method_icons/steel_tools.dds"
	is_hidden_when_unavailable = yes
	
	unlocking_production_methods = {
		pm_breech_loaders
		pm_recoiled_barrels
	}
	
	building_modifiers = {
		workforce_scaled = {
			# input goods
			goods_input_wood_add = 10
			goods_input_hardwood_add = -5
			goods_input_tools_add = -6 # -10
			
			# output goods
			goods_output_artillery_add = -14 # -21
			goods_output_tools_add = 18 # 14
		}
	}

	timed_modifiers = {
		modifier_recently_adjusted_primary_PM
	}
}

pm_limited_tools_t_s = {
	texture = "gfx/interface/icons/production_method_icons/military_priority.dds"
	is_hidden_when_unavailable = yes
	
	unlocking_production_methods = {
		pm_breech_loaders
		pm_recoiled_barrels
	}
	
	building_modifiers = {
		workforce_scaled = {
			# input goods
			goods_input_wood_add = 5
			goods_input_hardwood_add = -2
			goods_input_tools_add = -6 # -8
			
			# output goods
			goods_output_artillery_add = -7
			goods_output_tools_add = 2 # 0
		}
	}

	timed_modifiers = {
		modifier_recently_adjusted_primary_PM
	}
}

## Recoiled (rubber)
pm_recoiled_barrels = {
	texture = "gfx/interface/icons/production_method_icons/recoil_mechanism_artillery_production.dds"
	
	unlocking_technologies = {
		automatic_machine_guns
	}
	
	building_modifiers = {
		workforce_scaled = {
			# input goods
			goods_input_steel_add = 30 # 40
			goods_input_tools_add = 12 # 20
			goods_input_oil_add = 6 # 10

			# output goods
			goods_output_artillery_add = 70 # 90
		}

		level_scaled = {
			building_employment_shopkeepers_add = 500
			building_employment_laborers_add = 2000
			building_employment_machinists_add = 1500
			building_employment_engineers_add = 1000
		}
	}

	timed_modifiers = {
		modifier_recently_adjusted_primary_PM
	}
}

pm_extensive_tools_t_r = {
	texture = "gfx/interface/icons/production_method_icons/steel_tools_plus.dds"
	is_hidden_when_unavailable = yes
	
	unlocking_technologies = {
		vulcanization
	}

	unlocking_production_methods = {
		pm_recoiled_barrels
	}
	
	building_modifiers = {
		workforce_scaled = {
			# input goods
			goods_input_oil_add = -3 # -5
			goods_input_rubber_add = 5
			goods_input_tools_add = -12 # -20
			
			# output goods
			goods_output_artillery_add = -35 # -45
			goods_output_tools_add = 47 # 35
		}
	}

	timed_modifiers = {
		modifier_recently_adjusted_primary_PM
	}
}

pm_moderate_tools_t_r = {
	texture = "gfx/interface/icons/production_method_icons/steel_tools.dds"
	is_hidden_when_unavailable = yes
	
	unlocking_technologies = {
		vulcanization
	}

	unlocking_production_methods = {
		pm_recoiled_barrels
	}
	
	building_modifiers = {
		workforce_scaled = {
			# input goods
			goods_input_oil_add = -2 # -3
			goods_input_rubber_add = 3
			goods_input_tools_add = -12 # -20
			
			# output goods
			goods_output_artillery_add = -21 # -27
			goods_output_tools_add = 25 # 13
		}
	}

	timed_modifiers = {
		modifier_recently_adjusted_primary_PM
	}
}

pm_limited_tools_t_r = {
	texture = "gfx/interface/icons/production_method_icons/military_priority.dds"
	is_hidden_when_unavailable = yes
	
	unlocking_technologies = {
		vulcanization
	}

	unlocking_production_methods = {
		pm_recoiled_barrels
	}
	
	building_modifiers = {
		workforce_scaled = {
			# input goods
			goods_input_oil_add = -1
			goods_input_rubber_add = 1
			goods_input_tools_add = -11
			
			# output goods
			goods_output_artillery_add = -7 # -9
		}
	}

	timed_modifiers = {
		modifier_recently_adjusted_primary_PM
	}
}

pm_no_tools_t = {
	texture = "gfx/interface/icons/production_method_icons/no_demobilisation.dds"
}

pm_ui_safety_b = {
	texture = "gfx/interface/icons/production_method_icons/no_munitions_plants.dds"
	
	unlocking_laws = {
		law_chiefdom
	}
}

### Automation Replacements ###
pm_rotary_valve_engine_building_arti_foundry = {
	texture = "gfx/interface/icons/production_method_icons/rotary_valve_engine.dds"
	is_hidden_when_unavailable = yes
	
	state_modifiers = {
		workforce_scaled = {
			state_pollution_generation_add = 10
		}
	}
	
	unlocking_technologies = {
		rotary_valve_engine
	}

	unlocking_production_methods = { 		# Small Arms ones replaced by these on artillery foundries.
		pm_cannons
		pm_smoothbores
		pm_breech_loaders
		pm_recoiled_barrels
	}
	
	building_modifiers = {
		workforce_scaled = {
			goods_input_coal_add = 15
		}

		level_scaled = {
			building_employment_laborers_add = -1500
			building_employment_machinists_add = -500
		}
	}

	timed_modifiers = {
		modifier_recently_adjusted_secondary_PM
	}
}

pm_assembly_lines_building_arti_foundry = {
	texture = "gfx/interface/icons/production_method_icons/assembly_lines.dds"
	is_hidden_when_unavailable = yes
	
	state_modifiers = {
		workforce_scaled = {
			state_pollution_generation_add = 10
		}
	}

	unlocking_technologies = {
		conveyors
	}

	unlocking_production_methods = { 		# Small Arms ones replaced by these on artillery foundries.
		pm_cannons
		pm_smoothbores
		pm_breech_loaders
		pm_recoiled_barrels
	}
	
	building_modifiers = {
		workforce_scaled = {
			goods_input_oil_add = 10
			goods_input_electricity_add = 5
		}

		level_scaled = {
			building_employment_laborers_add = -2000
			building_employment_machinists_add = -1000
		}
	}

	timed_modifiers = {
		modifier_recently_adjusted_secondary_PM
	}

	required_input_goods = electricity
}

#################################################################

# Automobile & War Machine PMs #

pm_gear_transmissions = {
	texture = "gfx/interface/icons/production_method_icons/gear_transmissions.dds"
	ai_value = 0		# The AI should move off of this as soon as it has the opportunity to do so.
	
	unlocking_technologies = {
		ironclad_tech
	}
	
	building_modifiers = {
		workforce_scaled = {
			goods_input_tools_add = 5 # cost 40, total = 200
			goods_input_steel_add = 5 # cost 50, total 250
			
			goods_output_automobiles_add = 12 # cost 100, total 1200
		}
		
		level_scaled = {
			building_employment_machinists_add = 500 # 1500
			building_employment_engineers_add = 500 # 1500
		}
	}

	timed_modifiers = {
		modifier_recently_adjusted_primary_PM
	}
}

pm_automobiles = {
	texture = "gfx/interface/icons/production_method_icons/automobiles_primary.dds"
	ai_value = 50000
	
	unlocking_technologies = {
		combustion_engine
	}
	
	building_modifiers = {
		workforce_scaled = {
			goods_input_tools_add = 5 # cost 40, total = 200
			goods_input_steel_add = 22 # cost 50, total 1100
			goods_input_engines_add = 12 # cost 60, total 720
			goods_input_oil_add = 34 # cost 40, total 1360
			
			goods_output_automobiles_add = 52 # cost 100, total 5200
		}
		
		level_scaled = {
			building_employment_machinists_add = 1000 # 1500
			building_employment_engineers_add = 500 # 1500
		}
	}

	timed_modifiers = {
		modifier_recently_adjusted_primary_PM
	}
}

pm_pneumatic_tyres = {
	texture = "gfx/interface/icons/production_method_icons/pneumatic_tyres.dds"
	ai_value = 50000
	
	unlocking_technologies = {
		pneumatic_tyres
	}
	
	building_modifiers = {
		workforce_scaled = {
			goods_input_tools_add = 5 # cost 40, total = 200
			goods_input_steel_add = 22 # cost 50, total 1100
			goods_input_engines_add = 18 # cost 60, total 1080
			goods_input_rubber_add = 30 # cost 40, total 1200
			goods_input_oil_add = 50 # cost 40, total 2000
			
			goods_output_automobiles_add = 80 # cost 100, total 8000
		}
		
		level_scaled = {
			building_employment_machinists_add = 1000 # 1500
			building_employment_engineers_add = 500 # 1500
		}
	}

	timed_modifiers = {
		modifier_recently_adjusted_primary_PM
	}
}

pm_single_shift_days = {
	texture = "gfx/interface/icons/production_method_icons/shift_1.dds"
}

pm_automotive_double_shifts = {
	texture = "gfx/interface/icons/production_method_icons/shift_2.dds"
	replacement_if_valid = pm_automotive_double_shifts_pneumatic
	
	unlocking_technologies = {
		shift_work
	}

	unlocking_production_methods = {
		pm_automobiles
		pm_pneumatic_tyres
	}
	
	building_modifiers = {
		workforce_scaled = {
			goods_input_tools_add = 5
			goods_input_steel_add = 20
			goods_input_engines_add = 10
			goods_input_oil_add = 32
			
			goods_output_automobiles_add = 48 # cost 100, total 5200
		}
		
		level_scaled = {
			building_employment_machinists_add = 1000
			building_employment_engineers_add = 300
		}
	}

	timed_modifiers = {
		modifier_recently_adjusted_secondary_PM
	}
}

pm_automotive_double_shifts_pneumatic = {
	texture = "gfx/interface/icons/production_method_icons/shift_2.dds"
	is_hidden_when_unavailable = yes
	
	unlocking_technologies = {
		shift_work
	}

	unlocking_production_methods = {
		pm_pneumatic_tyres
	}
	
	building_modifiers = {
		workforce_scaled = {
			goods_input_tools_add = 5
			goods_input_steel_add = 20
			goods_input_engines_add = 16
			goods_input_rubber_add = 28
			goods_input_oil_add = 48
			goods_input_electricity_add = 2	# Gotta use proper lighting when it's early/late for pneumatic tools.
			
			goods_output_automobiles_add = 76
		}
		
		level_scaled = {
			building_employment_machinists_add = 1000
			building_employment_engineers_add = 300
		}
	}

	timed_modifiers = {
		modifier_recently_adjusted_secondary_PM
	}
	
	required_input_goods = electricity
}

pm_automotive_triple_shifts = {
	texture = "gfx/interface/icons/production_method_icons/shift_3.dds"
	replacement_if_valid = pm_automotive_triple_shifts_pneumatic
	
	unlocking_technologies = {
		conveyors
	}

	unlocking_production_methods = {
		pm_automobiles
		pm_pneumatic_tyres
	}
	
	building_modifiers = {
		workforce_scaled = {
			goods_input_tools_add = 10
			goods_input_steel_add = 38
			goods_input_engines_add = 18
			goods_input_oil_add = 66
			goods_input_electricity_add = 2	# Gotta keep the lights on.
			
			goods_output_automobiles_add = 94
		}
		
		level_scaled = {
			building_employment_machinists_add = 2000
			building_employment_engineers_add = 500
		}
	}

	timed_modifiers = {
		modifier_recently_adjusted_secondary_PM
	}
	
	required_input_goods = electricity
}

pm_automotive_triple_shifts_pneumatic = {
	texture = "gfx/interface/icons/production_method_icons/shift_3.dds"
	is_hidden_when_unavailable = yes
	
	unlocking_technologies = {
		conveyors
	}

	unlocking_production_methods = {
		pm_pneumatic_tyres
	}
	
	building_modifiers = {
		workforce_scaled = {
			goods_input_tools_add = 5
			goods_input_steel_add = 38
			goods_input_engines_add = 30
			goods_input_rubber_add = 54
			goods_input_oil_add = 94
			goods_input_electricity_add = 4	# Gotta keep the lights on.
			
			goods_output_automobiles_add = 150
		}
		
		level_scaled = {
			building_employment_machinists_add = 2000
			building_employment_engineers_add = 500
		}
	}

	timed_modifiers = {
		modifier_recently_adjusted_secondary_PM
	}
	
	required_input_goods = electricity
}

pm_no_aeroplanes = {
	texture = "gfx/interface/icons/production_method_icons/no_aeroplanes.dds"
}

pm_limited_aeroplanes = {
	texture = "gfx/interface/icons/production_method_icons/aeroplanes_secondary.dds"
	replacement_if_valid = pm_limited_aeroplanes_double
	is_hidden_when_unavailable = yes
	
	unlocking_technologies = {
		military_aviation
	}
	
	unlocking_production_methods = {
		pm_single_shift_days
		pm_automotive_double_shifts
		pm_automotive_double_shifts_pneumatic
	}
	
	building_modifiers = {
		workforce_scaled = {
			# Representing aluminium used in plane production
			goods_input_electricity_add = 6 # Cost 30, total 180
			goods_input_radios_add = 2 # Cost 80, total 160
			goods_input_steel_add = -5 # Cost 50, total 250
			goods_input_rubber_add = -2 # cost 40, total 80
			
			goods_output_automobiles_add = -12
			goods_output_aeroplanes_add = 24	# 15
		}
	}

	timed_modifiers = {
		modifier_recently_adjusted_primary_PM
	}
}

pm_limited_aeroplanes_double = {
	texture = "gfx/interface/icons/production_method_icons/aeroplanes_secondary.dds"
	replacement_if_valid = pm_limited_aeroplanes_triple
	is_hidden_when_unavailable = yes
	
	unlocking_technologies = {
		military_aviation
	}
	
	unlocking_production_methods = {
		pm_automotive_double_shifts
		pm_automotive_double_shifts_pneumatic
		pm_automotive_triple_shifts
		pm_automotive_triple_shifts_pneumatic
	}
	
	building_modifiers = {
		workforce_scaled = {
			# Representing aluminium used in plane production
			goods_input_electricity_add = 10
			goods_input_radios_add = 3
			goods_input_steel_add = -8
			goods_input_rubber_add = -3
			
			goods_output_automobiles_add = -20
			goods_output_aeroplanes_add = 44
		}
	}

	timed_modifiers = {
		modifier_recently_adjusted_primary_PM
	}
}

pm_limited_aeroplanes_triple = {
	texture = "gfx/interface/icons/production_method_icons/aeroplanes_secondary.dds"
	is_hidden_when_unavailable = yes
	
	unlocking_technologies = {
		military_aviation
	}
	
	unlocking_production_methods = {
		pm_automotive_triple_shifts
		pm_automotive_triple_shifts_pneumatic
	}
	
	building_modifiers = {
		workforce_scaled = {
			# Representing aluminium used in plane production
			goods_input_electricity_add = 14
			goods_input_radios_add = 4
			goods_input_steel_add = -10
			goods_input_rubber_add = -4
			
			goods_output_automobiles_add = -26
			goods_output_aeroplanes_add = 60
		}
	}

	timed_modifiers = {
		modifier_recently_adjusted_primary_PM
	}
}

pm_extensive_aeroplanes = {
	texture = "gfx/interface/icons/production_method_icons/aeroplanes_plus.dds"
	replacement_if_valid = pm_extensive_aeroplanes_triple
	is_hidden_when_unavailable = yes
	
	unlocking_technologies = {
		military_aviation
	}
	
	unlocking_production_methods = {
		pm_automotive_double_shifts
		pm_automotive_double_shifts_pneumatic
		pm_automotive_triple_shifts
		pm_automotive_triple_shifts_pneumatic
	}
	
	building_modifiers = {
		workforce_scaled = {
			goods_input_electricity_add = 20
			goods_input_radios_add = 6
			goods_input_steel_add = -16 
			goods_input_rubber_add = -6
			
			goods_output_automobiles_add = -34
			goods_output_aeroplanes_add = 60
		}
	}

	timed_modifiers = {
		modifier_recently_adjusted_primary_PM
	}
}

pm_extensive_aeroplanes_triple = {
	texture = "gfx/interface/icons/production_method_icons/aeroplanes_plus.dds"
	is_hidden_when_unavailable = yes
	
	unlocking_technologies = {
		military_aviation
	}
	
	unlocking_production_methods = {
		pm_automotive_triple_shifts
		pm_automotive_triple_shifts_pneumatic
	}
	
	building_modifiers = {
		workforce_scaled = {
			goods_input_electricity_add = 28
			goods_input_radios_add = 8
			goods_input_steel_add = -20 
			goods_input_rubber_add = -8
			
			goods_output_automobiles_add = -54
			goods_output_aeroplanes_add = 92
		}
	}

	timed_modifiers = {
		modifier_recently_adjusted_primary_PM
	}
}

pm_overtime_aeroplanes = {
	texture = "gfx/interface/icons/production_method_icons/aeroplanes_overtime.dds"
	is_hidden_when_unavailable = yes
	
	unlocking_technologies = {
		military_aviation
	}
	
	unlocking_production_methods = {
		pm_automotive_triple_shifts
		pm_automotive_triple_shifts_pneumatic
	}
	
	building_modifiers = {
		workforce_scaled = {
			goods_input_electricity_add = 42
			goods_input_radios_add = 9
			goods_input_steel_add = -24 
			goods_input_rubber_add = -9
			
			goods_output_automobiles_add = -72
			goods_output_aeroplanes_add = 128		# Diminishing returns.
		}
	}

	timed_modifiers = {
		modifier_recently_adjusted_primary_PM
	}
}

pm_ui_safety_c = {
	texture = "gfx/interface/icons/production_method_icons/no_aeroplanes.dds"
	unlocking_laws = {
		law_chiefdom
	}
}

pm_no_tanks = {
	texture = "gfx/interface/icons/production_method_icons/no_tanks_secondary.dds"
}

pm_limited_tanks = {
	texture = "gfx/interface/icons/production_method_icons/tanks_secondary.dds"
	replacement_if_valid = pm_limited_tanks_double
	is_hidden_when_unavailable = yes
	
	unlocking_technologies = {
		mobile_armor
	}
	
	unlocking_production_methods = {
		pm_single_shift_days
		pm_automotive_double_shifts
		pm_automotive_double_shifts_pneumatic
	}
	
	building_modifiers = {
		workforce_scaled = {
			goods_input_steel_add = 5 # Cost 50, total 250
			goods_input_rubber_add = -5 # Cost 40, total 200
			
			goods_output_automobiles_add = -12
			goods_output_tanks_add = 15
		}
	}

	timed_modifiers = {
		modifier_recently_adjusted_primary_PM
	}
}

pm_limited_tanks_double = {
	texture = "gfx/interface/icons/production_method_icons/tanks_secondary.dds"
	replacement_if_valid = pm_limited_tanks_triple
	is_hidden_when_unavailable = yes
	
	unlocking_technologies = {
		mobile_armor
	}
	
	unlocking_production_methods = {
		pm_automotive_double_shifts
		pm_automotive_double_shifts_pneumatic
		pm_automotive_triple_shifts
		pm_automotive_triple_shifts_pneumatic
	}
	
	building_modifiers = {
		workforce_scaled = {
			goods_input_steel_add = 8
			goods_input_rubber_add = -8
			
			goods_output_automobiles_add = -19
			goods_output_tanks_add = 24
		}
	}

	timed_modifiers = {
		modifier_recently_adjusted_primary_PM
	}
}

pm_limited_tanks_triple = {
	texture = "gfx/interface/icons/production_method_icons/tanks_secondary.dds"
	is_hidden_when_unavailable = yes
	
	unlocking_technologies = {
		mobile_armor
	}
	
	unlocking_production_methods = {
		pm_automotive_triple_shifts
		pm_automotive_triple_shifts_pneumatic
	}
	
	building_modifiers = {
		workforce_scaled = {
			goods_input_steel_add = 10
			goods_input_rubber_add = -10
			
			goods_output_automobiles_add = -24
			goods_output_tanks_add = 30
		}
	}

	timed_modifiers = {
		modifier_recently_adjusted_primary_PM
	}
}

pm_extensive_tanks = {
	texture = "gfx/interface/icons/production_method_icons/tanks_plus.dds"
	replacement_if_valid = pm_extensive_tanks_triple
	is_hidden_when_unavailable = yes
	
	unlocking_technologies = {
		mobile_armor
	}
	
	unlocking_production_methods = {
		pm_automotive_double_shifts
		pm_automotive_double_shifts_pneumatic
		pm_automotive_triple_shifts
		pm_automotive_triple_shifts_pneumatic
	}
	
	building_modifiers = {
		workforce_scaled = {
			goods_input_steel_add = 16
			goods_input_rubber_add = -16
			
			goods_output_automobiles_add = -34
			goods_output_tanks_add = 40
		}
	}

	timed_modifiers = {
		modifier_recently_adjusted_primary_PM
	}
}

pm_extensive_tanks_triple = {
	texture = "gfx/interface/icons/production_method_icons/tanks_plus.dds"
	is_hidden_when_unavailable = yes
	
	unlocking_technologies = {
		mobile_armor
	}
	
	unlocking_production_methods = {
		pm_automotive_triple_shifts
		pm_automotive_triple_shifts_pneumatic
	}
	
	building_modifiers = {
		workforce_scaled = {
			goods_input_steel_add = 20
			goods_input_rubber_add = -20
			
			goods_output_automobiles_add = -42
			goods_output_tanks_add = 50
		}
	}

	timed_modifiers = {
		modifier_recently_adjusted_primary_PM
	}
}

pm_overtime_tanks = {
	texture = "gfx/interface/icons/production_method_icons/tanks_plus.dds"
	is_hidden_when_unavailable = yes
	
	unlocking_technologies = {
		mobile_armor
	}
	
	unlocking_production_methods = {
		pm_automotive_triple_shifts
		pm_automotive_triple_shifts_pneumatic
	}
	
	building_modifiers = {
		workforce_scaled = {
			goods_input_steel_add = 30
			goods_input_rubber_add = -30
			
			goods_output_automobiles_add = -51
			goods_output_tanks_add = 64
		}
	}

	timed_modifiers = {
		modifier_recently_adjusted_primary_PM
	}
}

pm_ui_safety_d = {
	texture = "gfx/interface/icons/production_method_icons/no_tanks_secondary.dds"
	
	unlocking_laws = {
		law_chiefdom
	}
}

#################################################################

# Explosives Building PMs #

pm_mechanical_mixers_building_explosives_factory = {
	texture = "gfx/interface/icons/production_method_icons/mechanized_looms.dds"
	
	unlocking_technologies = {
		nitroglycerin
	}
	
	building_modifiers = {
		workforce_scaled = {
			goods_input_tools_add = 5
		}
		
		level_scaled = {
			building_employment_laborers_add = -1000
		}
	}

	timed_modifiers = {
		modifier_recently_adjusted_secondary_PM
	}
}

pm_rotary_valve_engine_building_explosives_factory = {
	texture = "gfx/interface/icons/production_method_icons/rotary_valve_engine.dds"
	
	state_modifiers = {
		workforce_scaled = {
			state_pollution_generation_add = 5
		}
	}
	
	unlocking_technologies = {
		rotary_valve_engine
	}
	
	building_modifiers = {
		workforce_scaled = {
			goods_input_tools_add = 5
			goods_input_coal_add = 10
		}
		
		level_scaled = {
			building_employment_laborers_add = -2000
		}
	}

	timed_modifiers = {
		modifier_recently_adjusted_secondary_PM
	}
}

pm_assembly_lines_building_explosives_factory = {
	texture = "gfx/interface/icons/production_method_icons/assembly_lines.dds"
	
	state_modifiers = {
		workforce_scaled = {
			state_pollution_generation_add = 10
		}
	}
	
	unlocking_technologies = {
		conveyors
	}
	
	building_modifiers = {
		workforce_scaled = {
			goods_input_oil_add = 10
			goods_input_electricity_add = 5
		}
		
		level_scaled = {
			building_employment_laborers_add = -2000
			building_employment_machinists_add = -500
		}
	}

	timed_modifiers = {
		modifier_recently_adjusted_secondary_PM
	}
	
	required_input_goods = electricity
}

pm_full_process_automation_building_explosives_factory = {
	texture = "gfx/interface/icons/production_method_icons/automated_bottle_blowers.dds"
	
	unlocking_technologies = {
		dough_rollers
	}
	
	state_modifiers = {
		workforce_scaled = {
			state_pollution_generation_add = 10
		}
	}
	
	building_modifiers = {
		workforce_scaled = {
			# input goods
			goods_input_oil_add = 10
			goods_input_electricity_add = 8
		}
		
		level_scaled = {
			building_employment_laborers_add = -1000
			building_employment_machinists_add = -500
			building_employment_engineers_add = -500
		}
	}

	timed_modifiers = {
		modifier_recently_adjusted_secondary_PM
	}
	
	required_input_goods = electricity
}

#################################################################

# Motor Building PMs #

## Base PM
pm_steam_engines = {
	texture = "gfx/interface/icons/production_method_icons/steamworks.dds"
	
	state_modifiers = {
		workforce_scaled = {
			state_pollution_generation_add = 10
		}
	}
	
	building_modifiers = {
		workforce_scaled = {
			goods_input_steel_add = 30
			
			goods_output_engines_add = 50 # 40
		}

		level_scaled = {
			building_employment_shopkeepers_add = 500
			building_employment_laborers_add = 2500
			building_employment_machinists_add = 1500
			building_employment_engineers_add = 500
		}
	}

	timed_modifiers = {
		modifier_recently_adjusted_primary_PM
	}
}

pm_electric_engines = {
	texture = "gfx/interface/icons/production_method_icons/electric_engines.dds"
	
	state_modifiers = {
		workforce_scaled = {
			state_pollution_generation_add = 5
		}
	}
	
	unlocking_technologies = {
		electric_railway
	}
	
	building_modifiers = {
		workforce_scaled = {
			# input goods
			goods_input_steel_add = 40
			goods_input_electricity_add = 30
			
			# output goods
			goods_output_engines_add = 90 # 80
		}

		level_scaled = {
			building_employment_shopkeepers_add = 500
			building_employment_laborers_add = 2000
			building_employment_machinists_add = 1500
			building_employment_engineers_add = 1000
		}
	}

	timed_modifiers = {
		modifier_recently_adjusted_primary_PM
	}

	required_input_goods = electricity
}

pm_diesel_engines = {
	texture = "gfx/interface/icons/production_method_icons/diesel_engines.dds"
	
	state_modifiers = {
		workforce_scaled = {
			state_pollution_generation_add = 10
		}
	}
	
	unlocking_technologies = {
		compression_ignition
	}
	
	building_modifiers = {
		workforce_scaled = {
			# input goods
			goods_input_steel_add = 50
			goods_input_oil_add = 50
			
			# output goods
			goods_output_engines_add = 140 # 120
		}

		level_scaled = {
			building_employment_shopkeepers_add = 500
			building_employment_laborers_add = 1500
			building_employment_machinists_add = 1500
			building_employment_engineers_add = 1500
		}
	}

	timed_modifiers = {
		modifier_recently_adjusted_primary_PM
	}
}

##################################################################

# Radio and Telephone PMs #

# Radios
pm_no_radios = {
	texture = "gfx/interface/icons/production_method_icons/no_radios.dds"
}

pm_limited_radios = {
	texture = "gfx/interface/icons/production_method_icons/radios.dds"
	
	unlocking_technologies = {
		radio
	}	
	
	building_modifiers = {
		workforce_scaled = {
			goods_input_electricity_add = 30
			goods_output_telephones_add = -10
			goods_output_radios_add = 20
		}
		
		level_scaled = {
			building_employment_engineers_add = 200
		}
	}
	
	timed_modifiers = {
		modifier_recently_adjusted_primary_PM
	}

	required_input_goods = electricity
}

pm_moderate_radios = {
	texture = "gfx/interface/icons/production_method_icons/radios.dds"
	
	unlocking_technologies = {
		radio
	}	
	
	building_modifiers = {
		workforce_scaled = {
			goods_input_electricity_add = 50
			goods_output_telephones_add = -20
			goods_output_radios_add = 40
		}
		
		level_scaled = {
			building_employment_engineers_add = 400
		}
	}

	timed_modifiers = {
		modifier_recently_adjusted_primary_PM
	}
	
	required_input_goods = electricity
}

pm_extensive_radios = {
	texture = "gfx/interface/icons/production_method_icons/radios.dds"
	
	unlocking_technologies = {
		radio
	}	
	
	building_modifiers = {
		workforce_scaled = {
			goods_input_electricity_add = 70
			goods_output_telephones_add = -30
			goods_output_radios_add = 60
		}
		
		level_scaled = {
			building_employment_engineers_add = 600
		}
	}

	timed_modifiers = {
		modifier_recently_adjusted_primary_PM
	}
	
	required_input_goods = electricity
}

# Automation
pm_assembly_lines_building_electronics = {
	texture = "gfx/interface/icons/production_method_icons/assembly_lines.dds"
	
	state_modifiers = {
		workforce_scaled = {
			state_pollution_generation_add = 10
		}
	}
	
	unlocking_technologies = {
		conveyors
	}
	
	building_modifiers = {
		workforce_scaled = {
			goods_input_oil_add = 6
			goods_input_electricity_add = 5
		}
		
		level_scaled = {
			building_employment_laborers_add = -1500
			building_employment_machinists_add = -500
		}
	}

	timed_modifiers = {
		modifier_recently_adjusted_secondary_PM
	}
	
	required_input_goods = electricity
}

pm_full_process_automation_building_electronics = {
	texture = "gfx/interface/icons/production_method_icons/automated_bottle_blowers.dds"
	
	unlocking_technologies = {
		dough_rollers
	}
	
	state_modifiers = {
		workforce_scaled = {
			state_pollution_generation_add = 10
		}
	}
	
	building_modifiers = {
		workforce_scaled = {
			# input goods
			goods_input_oil_add = 10
			goods_input_electricity_add = 8
		}
		
		level_scaled = {
			building_employment_laborers_add = -1500
			building_employment_machinists_add = -1000
			building_employment_engineers_add = -500
		}
	}

	timed_modifiers = {
		modifier_recently_adjusted_secondary_PM
	}
	
	required_input_goods = electricity
}

###################################################################