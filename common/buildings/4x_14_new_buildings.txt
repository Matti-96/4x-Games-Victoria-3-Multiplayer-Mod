###############
### Industy ###
###############

# Coal-Liquefaction Plant
building_coal_liquefaction_plant = {
	building_group = bg_heavy_industry
	icon = "gfx/interface/icons/building_icons/synthetics_plants.dds"
	city_type = city
	levels_per_mesh = 5

	ai_nationalization_desire = 0.25 # AI is a bit reluctant to privatize
	
	unlocking_technologies = {
		synthetic_strategic_resources
	}
	
	production_method_groups = {
		pmg_base_coal_to_oil
		pmg_base_oil_to_rubber
	}
	
	required_construction = construction_cost_very_high

	ai_value = 250
	ownership_type = self

	potential = {
		owner = {
			NOT = { has_law = law_type:law_industry_banned }
		}
	}
	
  background = "gfx/interface/icons/building_icons/backgrounds/building_panel_bg_heavy_industry.dds"
}

#################
### Resources ###
#################

# new resource buildings: coal
building_coal_mine_zw = {
	building_group = bg_coal_mine_zw
	icon = "gfx/interface/icons/building_icons/building_coal_mine_zw.dds"
	background = "gfx/interface/icons/building_icons/backgrounds/building_panel_bg_mining.dds"
	levels_per_mesh = 5
	required_construction = construction_cost_very_high
	unlocking_technologies = { zw_tech_coal_sulfur }
	production_method_groups = { pmg_building_coal_mine_zw }
	ownership_type = self
	has_max_level = yes
	potential = {
		has_potential_resource = bg_coal_mining
	}
	can_build_government = {
		OR = {
			hidden_trigger = { has_building = building_coal_mine_zw }
			AND = {
				any_scope_building = {
					is_building_type = building_coal_mine
					level >= zw_value_required_level_coal
					custom_tooltip = {
						text = zw_can_queue_building_levels_5_tt
						NOT = { can_queue_building_levels = 5 }
					}
				}
				NOT = {
					custom_tooltip = {
						text = zw_can_build_trigger_coal_tt
						any_scope_building = {
							OR = {
								#is_building_type = building_coal_mine_zw
								is_building_type = building_iron_mine_zw
								is_building_type = building_lead_mine_zw
								is_building_type = building_sulfur_mine_zw
								is_building_type = building_oil_rig_zw
							}
						}
					}
				}
			}
		}
	}
	can_build_private = {
		has_building = building_coal_mine_zw
	}
}

# new resource buildings: iron
building_iron_mine_zw = {
	building_group = bg_iron_mine_zw
	icon = "gfx/interface/icons/building_icons/building_iron_mine_zw.dds"
	background = "gfx/interface/icons/building_icons/backgrounds/building_panel_bg_mining.dds"
	levels_per_mesh = 5
	required_construction = construction_cost_very_high
	unlocking_technologies = { zw_tech_iron_lead }
	production_method_groups = { pmg_building_iron_mine_zw }
	ownership_type = self
	has_max_level = yes
	potential = {
		has_potential_resource = bg_iron_mining
	}
	can_build_government = {
		OR = {
			hidden_trigger = { has_building = building_iron_mine_zw }
			AND = {
				any_scope_building = {
					is_building_type = building_iron_mine
					level >= zw_value_required_level_iron
					custom_tooltip = {
						text = zw_can_queue_building_levels_5_tt
						NOT = { can_queue_building_levels = 5 }
					}
				}
				NOT = {
					custom_tooltip = {
						text = zw_can_build_trigger_iron_tt
						any_scope_building = {
							OR = {
								is_building_type = building_coal_mine_zw
								#is_building_type = building_iron_mine_zw
								is_building_type = building_lead_mine_zw
								is_building_type = building_sulfur_mine_zw
								is_building_type = building_oil_rig_zw
							}
						}
					}
				}
			}
		}
	}
	can_build_private = {
		has_building = building_iron_mine_zw
	}
}

# new resource buildings: lead
building_lead_mine_zw = {
	building_group = bg_lead_mine_zw
	icon = "gfx/interface/icons/building_icons/building_lead_mine_zw.dds"
	background = "gfx/interface/icons/building_icons/backgrounds/building_panel_bg_mining.dds"
	levels_per_mesh = 5
	required_construction = construction_cost_very_high
	unlocking_technologies = { zw_tech_iron_lead }
	production_method_groups = { pmg_building_lead_mine_zw }
	ownership_type = self
	has_max_level = yes
	potential = {
		has_potential_resource = bg_lead_mining
	}
	can_build_government = {
		OR = {
			hidden_trigger = { has_building = building_lead_mine_zw }
			AND = {
				any_scope_building = {
					is_building_type = building_lead_mine
					level >= zw_value_required_level_lead
					custom_tooltip = {
						text = zw_can_queue_building_levels_5_tt
						NOT = { can_queue_building_levels = 5 }
					}
				}
				NOT = {
					custom_tooltip = {
						text = zw_can_build_trigger_lead_tt
						any_scope_building = {
							OR = {
								is_building_type = building_coal_mine_zw
								is_building_type = building_iron_mine_zw
								#is_building_type = building_lead_mine_zw
								is_building_type = building_sulfur_mine_zw
								is_building_type = building_oil_rig_zw
							}
						}
					}
				}
			}
		}
	}
	can_build_private = {
		has_building = building_lead_mine_zw
	}
}

# new resource buildings: sulfur
building_sulfur_mine_zw = {
	building_group = bg_sulfur_mine_zw
	icon = "gfx/interface/icons/building_icons/building_sulfur_mine_zw.dds"
	background = "gfx/interface/icons/building_icons/backgrounds/building_panel_bg_mining.dds"
	levels_per_mesh = 5
	required_construction = construction_cost_very_high
	unlocking_technologies = { zw_tech_coal_sulfur }
	production_method_groups = { pmg_building_sulfur_mine_zw }
	ownership_type = self
	has_max_level = yes
	potential = {
		has_potential_resource = bg_sulfur_mining
	}
	can_build_government = {
		OR = {
			hidden_trigger = { has_building = building_sulfur_mine_zw }
			AND = {
				any_scope_building = {
					is_building_type = building_sulfur_mine
					level >= zw_value_required_level_sulfur
					custom_tooltip = {
						text = zw_can_queue_building_levels_5_tt
						NOT = { can_queue_building_levels = 5 }
					}
				}
				NOT = {
					custom_tooltip = {
						text = zw_can_build_trigger_sulfur_tt
						any_scope_building = {
							OR = {
								is_building_type = building_coal_mine_zw
								is_building_type = building_iron_mine_zw
								is_building_type = building_lead_mine_zw
								#is_building_type = building_sulfur_mine_zw
								is_building_type = building_oil_rig_zw
							}
						}
					}
				}
			}
		}
	}
	can_build_private = {
		has_building = building_sulfur_mine_zw
	}
}

# new resource buildings: oil
building_oil_rig_zw = {
	building_group = bg_oil_rig_zw
	icon = "gfx/interface/icons/building_icons/building_oil_rig_zw.dds"
	background = "gfx/interface/icons/building_icons/backgrounds/building_panel_bg_oil.dds"
	levels_per_mesh = 5
	required_construction = construction_cost_very_high
	unlocking_technologies = { zw_tech_oil }
	production_method_groups = { pmg_building_oil_rig_zw }
	ownership_type = self
	has_max_level = yes
	potential = {
		#has_potential_resource = bg_oil_extraction
		has_building = building_oil_rig
	}
	can_build_government = {
		OR = {
			hidden_trigger = { has_building = building_oil_rig_zw }
			AND = {
				any_scope_building = {
					is_building_type = building_oil_rig
					level >= zw_value_required_level_oil
					custom_tooltip = {
						text = zw_can_queue_building_levels_5_tt
						NOT = { can_queue_building_levels = 5 }
					}
				}
				NOT = {
					custom_tooltip = {
						text = zw_can_build_trigger_oil_tt
						any_scope_building = {
							OR = {
								is_building_type = building_coal_mine_zw
								is_building_type = building_iron_mine_zw
								is_building_type = building_lead_mine_zw
								is_building_type = building_sulfur_mine_zw
								#is_building_type = building_oil_rig_zw
							}
						}
					}
				}
			}
		}
	}
	can_build_private = {
		has_building = building_oil_rig_zw
	}
}

# new resource buildings: fish
building_fishing_wharf_zw = {
	building_group = bg_fishing_wharf_zw
	icon = "gfx/interface/icons/building_icons/building_fishing_wharf_zw.dds"
	background = "gfx/interface/icons/building_icons/backgrounds/building_panel_bg_fishing.dds"
	levels_per_mesh = 5 
	required_construction = construction_cost_medium
	unlocking_technologies = { zw_tech_fish }
	production_method_groups = { pmg_building_fishing_wharf_zw }
	ownership_type = self
	has_max_level = yes
	potential = {
		has_potential_resource = bg_fishing
		#is_sea_adjacent = yes
	}
	can_build_government = {
		OR = {
			hidden_trigger = { has_building = building_fishing_wharf_zw }
			any_scope_building = {
				is_building_type = building_fishing_wharf
				level >= zw_value_required_level_fish
				custom_tooltip = {
					text = zw_can_queue_building_levels_2_tt
					NOT = { can_queue_building_levels = 2 }
				}
			}
		}
	}
	can_build_private = {
		has_building = building_fishing_wharf_zw
	}
}

# new resource buildings: wood
building_logging_camp_zw = {
	building_group = bg_logging_camp_zw
	icon = "gfx/interface/icons/building_icons/building_logging_camp_zw.dds"
	background = "gfx/interface/icons/building_icons/backgrounds/building_panel_bg_light_industry.dds"
	levels_per_mesh = 5
	required_construction = construction_cost_high
	unlocking_technologies = { zw_tech_wood_rubber }
	production_method_groups = { pmg_building_logging_camp_zw }
	ownership_type = self
	can_build_private = {
		has_building = building_logging_camp_zw
	}
}

# new resource buildings: rubber
building_rubber_plantation_zw = {
	building_group = bg_rubber_plantation_zw
	icon = "gfx/interface/icons/building_icons/building_rubber_plantation_zw.dds"
	background = "gfx/interface/icons/building_icons/backgrounds/building_panel_bg_heavy_industry.dds"
	levels_per_mesh = 5 
	required_construction = construction_cost_very_high
	unlocking_technologies = { zw_tech_wood_rubber }
	production_method_groups = { pmg_building_rubber_plantation_zw }
	ownership_type = self
	can_build_private = {
		has_building = building_rubber_plantation_zw
	}
}


############################
### Government Buildings ###
############################

building_port = {
	building_group = bg_port
	city_type = port
	icon = "gfx/interface/icons/building_icons/building_port.dds"

	has_max_level = yes
	ignore_stateregion_max_level = yes
	port = yes

	unlocking_technologies = { navigation }

	production_method_groups = {
		pmg_base_building_port
	}

	required_construction = construction_cost_medium

	terrain_manipulator = urban_port
	
	potential = {
		is_coastal = yes
	}

	background = "gfx/interface/icons/building_icons/backgrounds/building_panel_bg_monuments.dds"
}

